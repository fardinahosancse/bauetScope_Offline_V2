(this.webpackJsonpbs_frontend=this.webpackJsonpbs_frontend||[]).push([[0],{188:function(e,t,n){},240:function(e,t){},242:function(e,t){},252:function(e,t,n){},253:function(e,t,n){},254:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(46),i=n.n(c),o=(n(188),n(65)),s=n(19),l=n(4),u=n(7),d=n(321),j=n(301),b=n.p+"static/media/signup.5ec07b1d.png",h=(n.p,n(0)),O=Object(j.a)("div")({width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"url(https://raw.githubusercontent.com/fardinahosancse/bg_web/main/bg.jpeg) no-repeat center center",backgroundSize:"cover"}),p=function(e){return Object(h.jsxs)(O,{children:[Object(h.jsx)(d.a,{component:"img",sx:{height:433,width:256},alt:"The house from the offer.",src:b}),Object(h.jsx)(d.a,{sx:{width:400,height:520,backdropFilter:"blur(52px)",borderRadius:"5px",boxShadow:"0 2px 10px 0 rgb(0 0 0 / 20%)",display:"flex",flexDirection:"column",padding:"25px"},children:e.children})]})},f=n(319),x=function(e){var t=e.label,n=e.additionalStyles,r=e.disabled,a=e.onClick;return Object(h.jsx)(f.a,{variant:"contained",sx:{bgcolor:"#white",color:"white",textTransform:"none",fontSize:"16px",fontWeight:500,width:"100%",height:"40px"},style:n||{},disabled:r,onClick:a,children:t})},m=n(265),g=Object(j.a)("span")({color:"#00AFF4",fontWeight:500,cursor:"pointer"}),v=function(e){var t=e.text,n=e.redirectText,r=e.additionalStyles,a=e.redirectHandler;return Object(h.jsxs)(m.a,{sx:{color:"#72767d"},style:r||{},variant:"subtitle2",children:[t,Object(h.jsx)(g,{onClick:a,children:n})]})},S=n(311),y=function(e){var t=e.handleLogin,n=e.isFormValid,r=Object(s.g)();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(S.a,{title:n?"Press to log in!":"Enter correct e-mail address and password should contains between 6 and 12 characters",children:Object(h.jsx)("div",{children:Object(h.jsx)(x,{label:"Log in",additionalStyles:{marginTop:"30px"},disabled:!n,onClick:t})})}),Object(h.jsx)(v,{text:"Need an account? ",redirectText:"Create an account",additionalStyles:{marginTop:"5px"},redirectHandler:function(){r.push("/register")}})]})},w=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(m.a,{variant:"h2",sx:{color:"white"},children:"Welcome Back!"}),Object(h.jsx)(m.a,{sx:{color:"#b9bbbe"},children:"We are happy that you are with us!"})]})},k=Object(j.a)("div")({display:"flex",justifyContent:"center",flexDirection:"column",width:"100%"}),E=Object(j.a)("p")({color:"#b9bbbe",textTransform:"uppercase",fontWeight:"600",fontSize:"16px"}),T=Object(j.a)("input")({flexGrow:1,height:"40px",border:"1px solid black",borderRadius:"5px",color:"black",background:"#E0E0E0",margin:0,fontSize:"14px",padding:"0 5px"}),C=function(e){var t=e.value,n=e.setValue,r=e.label,a=e.type,c=e.placeholder;return Object(h.jsxs)(k,{children:[Object(h.jsx)(E,{children:r}),Object(h.jsx)(T,{value:t,onChange:function(e){n(e.target.value)},type:a,placeholder:c})]})},I=function(e){var t=e.mail,n=e.setMail,r=e.password,a=e.setPassword;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(C,{value:t,setValue:n,label:"E-mail",type:"text",placeholder:"Enter e-mail address"}),Object(h.jsx)(C,{value:r,setValue:a,label:"Password",type:"password",placeholder:"Enter password"})]})},R=function(e){return e.length>5&&e.length<13},A=function(e){return/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e)},D=function(e){return e.length>2&&e.length<13},_=n(16),U=n(17),M=n(33),N=n(145),L=function(){localStorage.clear(),window.location.pathname="/login"},F=n.n(N).a.create({baseURL:"https://scopebackend.onrender.com/api",timeout:1e5});F.interceptors.request.use((function(e){var t=localStorage.getItem("user");if(t){var n=JSON.parse(t).token;e.headers.Authorization="Bearer ".concat(n)}return e}),(function(e){return Promise.reject(e)}));var B=function(){var e=Object(M.a)(Object(U.a)().mark((function e(t){return Object(U.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.post("/auth/login",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,exception:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(M.a)(Object(U.a)().mark((function e(t){return Object(U.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.post("/auth/register",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,exception:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(M.a)(Object(U.a)().mark((function e(t){return Object(U.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.post("/friend-invitation/invite",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),G(e.t0),e.abrupt("return",{error:!0,exception:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(M.a)(Object(U.a)().mark((function e(t){return Object(U.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.post("/friend-invitation/accept",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),G(e.t0),e.abrupt("return",{error:!0,exception:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(M.a)(Object(U.a)().mark((function e(t){return Object(U.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.post("/friend-invitation/reject",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),G(e.t0),e.abrupt("return",{error:!0,exception:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),G=function(e){var t,n=null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status;n&&(401===n||403===n)&&L()},V={OPEN_ALERT_MESSAGE:"ALERT.OPEN_ALERT_MESSAGE",CLOSE_ALERT_MESSAGE:"ALERT.CLOSE_ALERT_MESSAGE"},J=function(e){return{type:V.OPEN_ALERT_MESSAGE,content:e}},Y=function(){return{type:V.CLOSE_ALERT_MESSAGE}},Z=V,K="AUTH.SET_USER_DETAILS",$=function(e){return{login:function(t,n){return e(X(t,n))},register:function(t,n){return e(Q(t,n))},setUserDetails:function(t){return e(q(t))}}},q=function(e){return{type:K,userDetails:e}},X=function(e,t){return function(){var n=Object(M.a)(Object(U.a)().mark((function n(r){var a,c,i,o,s;return Object(U.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,B(e);case 2:a=n.sent,console.log(a),a.error?r(J(null===a||void 0===a||null===(c=a.exception)||void 0===c||null===(i=c.response)||void 0===i?void 0:i.data)):(o=null===a||void 0===a?void 0:a.data,s=o.userDetails,localStorage.setItem("user",JSON.stringify(s)),r(q(s)),t.push("/dashboard"));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Q=function(e,t){return function(){var n=Object(M.a)(Object(U.a)().mark((function n(r){var a,c,i,o,s;return Object(U.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,P(e);case 2:a=n.sent,console.log(a),a.error?r(J(null===a||void 0===a||null===(c=a.exception)||void 0===c||null===(i=c.response)||void 0===i?void 0:i.data)):(o=null===a||void 0===a?void 0:a.data,s=o.userDetails,localStorage.setItem("user",JSON.stringify(s)),r(q(s)),t.push("/dashboard"));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ee=Object(_.b)(null,(function(e){return Object(l.a)({},$(e))}))((function(e){var t=e.login,n=Object(s.g)(),a=Object(r.useState)(""),c=Object(u.a)(a,2),i=c[0],o=c[1],l=Object(r.useState)(""),d=Object(u.a)(l,2),j=d[0],b=d[1],O=Object(r.useState)(!1),f=Object(u.a)(O,2),x=f[0],m=f[1];Object(r.useEffect)((function(){m(function(e){var t=e.mail,n=e.password,r=A(t),a=R(n);return r&&a}({mail:i,password:j}))}),[i,j,m]);return Object(h.jsxs)(p,{children:[Object(h.jsx)(w,{}),Object(h.jsx)(I,{mail:i,setMail:o,password:j,setPassword:b}),Object(h.jsx)(y,{isFormValid:x,handleLogin:function(){t({mail:i,password:j},n)}})]})})),te=function(e){var t=e.mail,n=e.setMail,r=e.username,a=e.setUsername,c=e.password,i=e.setPassword;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(C,{value:t,setValue:n,label:"E-mail address",type:"text",placeholder:"Enter e-mail address"}),Object(h.jsx)(C,{value:r,setValue:a,label:"Username",type:"text",placeholder:"Enter a username"}),Object(h.jsx)(C,{value:c,setValue:i,label:"Password",type:"password",placeholder:"Enter password"})]})},ne=function(e){var t=e.handleRegister,n=e.isFormValid,r=Object(s.g)();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(S.a,{title:n?"Press to register!":"Username should contains between 3 and 12 characters and password should contains between 6 and 12 character. Also correct e-mail address should provided",children:Object(h.jsx)("div",{children:Object(h.jsx)(x,{label:"Register",additionalStyles:{marginTop:"30px"},disabled:!n,onClick:t})})}),Object(h.jsx)(v,{text:"",redirectText:"Already have an account ?",additionalStyles:{marginTop:"5px"},redirectHandler:function(){r.push("/login")}})]})},re=Object(_.b)(null,(function(e){return Object(l.a)({},$(e))}))((function(e){var t=e.register,n=Object(s.g)(),a=Object(r.useState)(""),c=Object(u.a)(a,2),i=c[0],o=c[1],l=Object(r.useState)(""),d=Object(u.a)(l,2),j=d[0],b=d[1],O=Object(r.useState)(""),f=Object(u.a)(O,2),x=f[0],g=f[1],v=Object(r.useState)(!1),S=Object(u.a)(v,2),y=S[0],w=S[1];return Object(r.useEffect)((function(){w(function(e){var t=e.mail,n=e.password,r=e.username;return A(t)&&R(n)&&D(r)}({mail:i,username:j,password:x}))}),[i,j,x,w]),Object(h.jsxs)(p,{children:[Object(h.jsx)(m.a,{variant:"h2",sx:{color:"white "},children:"Create an account"}),Object(h.jsx)(te,{mail:i,setMail:o,username:j,setUsername:b,password:x,setPassword:g}),Object(h.jsx)(ne,{handleRegister:function(){t({mail:i,password:x,username:j},n)},isFormValid:y})]})})),ae=n(105),ce=n.n(ae),ie=function(){return Object(h.jsx)(f.a,{style:{width:"40px",height:"40px",borderRadius:"5px",margin:0,padding:0,minWidth:0,marginTop:"10px",color:"#66BB6A",backgroundColor:"white"},children:Object(h.jsx)(ce.a,{})})},oe=n(150),se=n.n(oe),le=n(146),ue=n(82),de=n(147),je={userDetails:null},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;return t.type===K?Object(l.a)(Object(l.a)({},e),{},{userDetails:t.userDetails}):e},he={showAlertMessage:!1,alertMessageContent:null},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.OPEN_ALERT_MESSAGE:return Object(l.a)(Object(l.a)({},e),{},{showAlertMessage:!0,alertMessageContent:t.content});case Z.CLOSE_ALERT_MESSAGE:return Object(l.a)(Object(l.a)({},e),{},{showAlertMessage:!1,alertMessageContent:null});default:return e}},pe="FRIENDS.SET_FRIENDS",fe="FRIENDS.SET_PENDING_FRIENDS_INVITATIONS",xe="FRIENDS.SET_ONLINE_USERS",me=function(e){return{sendFriendInvitation:function(t,n){return e(ge(t,n))},acceptFriendInvitation:function(t){return e(ve(t))},rejectFriendInvitation:function(t){return e(Se(t))}}},ge=function(e,t){return function(){var n=Object(M.a)(Object(U.a)().mark((function n(r){var a,c,i;return Object(U.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,W(e);case 2:(a=n.sent).error?r(J(null===(c=a.exception)||void 0===c||null===(i=c.response)||void 0===i?void 0:i.data)):(r(J("Invitation has been sent!")),t());case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ve=function(e){return function(){var t=Object(M.a)(Object(U.a)().mark((function t(n){var r,a,c;return Object(U.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(e);case 2:(r=t.sent).error?n(J(null===(a=r.exception)||void 0===a||null===(c=a.response)||void 0===c?void 0:c.data)):n(J("Invitation accepted!"));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Se=function(e){return function(){var t=Object(M.a)(Object(U.a)().mark((function t(n){var r,a,c;return Object(U.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H(e);case 2:(r=t.sent).error?n(J(null===(a=r.exception)||void 0===a||null===(c=a.response)||void 0===c?void 0:c.data)):n(J("Invitation rejected!"));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ye={friends:[],pendingFriendsInvitations:[],onlineUsers:[]},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Object(l.a)(Object(l.a)({},e),{},{pendingFriendsInvitations:t.pendingFriendsInvitations});case pe:return Object(l.a)(Object(l.a)({},e),{},{friends:t.friends});case xe:return Object(l.a)(Object(l.a)({},e),{},{onlineUsers:t.onlineUsers});default:return e}},ke="DIRECT",Ee="CHAT.SET_CHOSEN_CHAT_DETAILS",Te="CHAT.SET_MESSAGES",Ce=function(e,t){return{type:Ee,chatType:t,chatDetails:e}},Ie={chosenChatDetails:null,chatType:null,messages:[]},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return Object(l.a)(Object(l.a)({},e),{},{chosenChatDetails:t.chatDetails,chatType:t.chatType,messages:[]});case Te:return Object(l.a)(Object(l.a)({},e),{},{messages:t.messages});default:return e}},Ae="ROOM.OPEN_ROOM",De="ROOM.SET_ROOM_DETAILS",_e="ROOM.SET_ACTIVE_ROOMS",Ue="ROOM.SET_LOCAL_STREAM",Me="ROOM.SET_REMOTE_STREAMS",Ne="ROOM.SET_AUDIO_ONLY",Le="ROOM.SET_SCREEN_SHARE_STREAM",Fe="ROOM.SET_IS_USER_JOINED_WITH_ONLY_AUDIO",Be=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:Ae,isUserRoomCreator:e,isUserInRoom:t}},Pe=function(e){return{setAudioOnly:function(t){return e(He(t))},setScreenSharingStream:function(t){e(Ve(t))}}},We=function(e){return{type:De,roomDetails:e}},ze=function(e){return{type:Ue,localStream:e}},He=function(e){return{type:Ne,audioOnly:e}},Ge=function(e){return{type:Me,remoteStreams:e}},Ve=function(e){return{type:Le,isScreenSharingActive:!!e,screenSharingStream:e||null}},Je=function(e){return{type:Fe,isUserJoinedWithOnlyAudio:e}},Ye={isUserInRoom:!1,isUserRoomCreator:!1,roomDetails:null,activeRooms:[],localStream:null,remoteStreams:[],audioOnly:!1,screenSharingStream:null,isScreenSharingActive:!1,isUserJoinedWithOnlyAudio:!1},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return Object(l.a)(Object(l.a)({},e),{},{isUserInRoom:t.isUserInRoom,isUserRoomCreator:t.isUserRoomCreator});case De:return Object(l.a)(Object(l.a)({},e),{},{roomDetails:t.roomDetails});case _e:return Object(l.a)(Object(l.a)({},e),{},{activeRooms:t.activeRooms});case Ue:return Object(l.a)(Object(l.a)({},e),{},{localStream:t.localStream});case Ne:return Object(l.a)(Object(l.a)({},e),{},{audioOnly:t.audioOnly});case Me:return Object(l.a)(Object(l.a)({},e),{},{remoteStreams:t.remoteStreams});case Le:return Object(l.a)(Object(l.a)({},e),{},{screenSharingStream:t.screenSharingStream,isScreenSharingActive:t.isScreenSharingActive});case Fe:return Object(l.a)(Object(l.a)({},e),{},{isUserJoinedWithOnlyAudio:t.isUserJoinedWithOnlyAudio});default:return e}},Ke=Object(ue.combineReducers)({auth:be,alert:Oe,friends:we,chat:Re,room:Ze}),$e=Object(ue.createStore)(Ke,Object(le.composeWithDevTools)(Object(ue.applyMiddleware)(de.a))),qe=$e,Xe=n(165),Qe=function(e){var t=e.participants,n=e.usersInCoversation,r=e.messages;t.every((function(e){return n.includes(e)}))&&qe.dispatch(function(e){return{type:Te,messages:e}}(r))},et=n(22),tt=n(149),nt=n.n(tt),rt={audio:!0,video:!1},at={video:!0,audio:!0},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=e?rt:at;navigator.mediaDevices.getUserMedia(n).then((function(e){qe.dispatch(ze(e)),t()})).catch((function(e){console.log(e),console.log("Cannot get an access to local stream")}))},it={},ot=function(e,t){var n=qe.getState().room.localStream;t?console.log("preparing new peer connection as initiator"):console.log("preparing new peer connection as not initiator"),it[e]=new nt.a({initiator:t,config:(console.warn("Using only STUN server"),{iceServers:[{urls:"stun:stun.l.google.com:19302"}]}),stream:n}),it[e].on("signal",(function(t){jt({signal:t,connUserSocketId:e})})),it[e].on("stream",(function(t){console.log("remote stream came from other user"),console.log("direct connection has been established"),t.connUserSocketId=e,st(t)}))},st=function(e){var t=qe.getState().room.remoteStreams,n=[].concat(Object(et.a)(t),[e]);qe.dispatch(Ge(n))},lt=function(e){for(var t in it)for(var n in it[t].streams[0].getTracks())for(var r in e.getTracks())if(it[t].streams[0].getTracks()[n].kind===e.getTracks()[r].kind){it[t].replaceTrack(it[t].streams[0].getTracks()[n],e.getTracks()[r],it[t].streams[0]);break}},ut=null,dt=function(e){var t=e.token;(ut=Object(Xe.a)("https://scopebackend.onrender.com",{auth:{token:t}})).on("connect",(function(){console.log("succesfully connected with socket.io server"),console.log(ut.id)})),ut.on("friends-invitations",(function(e){var t=e.pendingInvitations;qe.dispatch({type:fe,pendingFriendsInvitations:t})})),ut.on("friends-list",(function(e){var t=e.friends;qe.dispatch(function(e){return{type:pe,friends:e}}(t))})),ut.on("online-users",(function(e){var t=e.onlineUsers;qe.dispatch(function(e){return{type:xe,onlineUsers:e}}(t))})),ut.on("direct-chat-history",(function(e){console.log(e),function(e){var t,n=e.participants,r=e.messages,a=null===(t=qe.getState().chat.chosenChatDetails)||void 0===t?void 0:t.id,c=qe.getState().auth.userDetails._id;a&&c&&Qe({participants:n,usersInCoversation:[a,c],messages:r})}(e)})),ut.on("room-create",(function(e){ht(e)})),ut.on("active-rooms",(function(e){Ot(e)})),ut.on("conn-prepare",(function(e){var t=e.connUserSocketId;ot(t,!1),ut.emit("conn-init",{connUserSocketId:t})})),ut.on("conn-init",(function(e){var t=e.connUserSocketId;ot(t,!0)})),ut.on("conn-signal",(function(e){!function(e){var t=e.connUserSocketId,n=e.signal;it[t]&&it[t].signal(n)}(e)})),ut.on("room-participant-left",(function(e){console.log("user left room"),function(e){var t=e.connUserSocketId;it[t]&&(it[t].destroy(),delete it[t]);var n=qe.getState().room.remoteStreams.filter((function(e){return e.connUserSocketId!==t}));qe.dispatch(Ge(n))}(e)}))},jt=function(e){ut.emit("conn-signal",e)},bt=function(){var e=qe.getState().room.audioOnly;ct(e,(function(){qe.dispatch(Be(!0,!0));var e=qe.getState().room.audioOnly;qe.dispatch(Je(e)),ut.emit("room-create")}))},ht=function(e){var t=e.roomDetails;qe.dispatch(We(t))},Ot=function(e){var t,n=e.activeRooms,r=qe.getState().friends.friends,a=[],c=null===(t=qe.getState().auth.userDetails)||void 0===t?void 0:t._id;n.forEach((function(e){e.roomCreator.userId===c?a.push(Object(l.a)(Object(l.a)({},e),{},{creatorUsername:"Me"})):r.forEach((function(t){t.id===e.roomCreator.userId&&a.push(Object(l.a)(Object(l.a)({},e),{},{creatorUsername:t.username}))}))})),qe.dispatch(function(e){return{type:_e,activeRooms:e}}(a))},pt=function(e){var t=qe.getState().room.audioOnly;ct(t,(function(){qe.dispatch(We({roomId:e})),qe.dispatch(Be(!1,!0));var t,n=qe.getState().room.audioOnly;qe.dispatch(Je(n)),t={roomId:e},ut.emit("room-join",t)}))},ft=function(){var e=qe.getState().room.roomDetails.roomId,t=qe.getState().room.localStream;t&&(t.getTracks().forEach((function(e){return e.stop()})),qe.dispatch(ze(null)));var n,r=qe.getState().room.screenSharingStream;r&&(r.getTracks().forEach((function(e){return e.stop()})),qe.dispatch(Ve(null))),qe.dispatch(Ge([])),Object.entries(it).forEach((function(e){var t=e[0];it[t]&&(it[t].destroy(),delete it[t])})),n={roomId:e},ut.emit("room-leave",n),qe.dispatch(We(null)),qe.dispatch(Be(!1,!1))},xt=function(e){var t=e.isUserInRoom;return Object(h.jsx)(f.a,{disabled:t,onClick:function(){bt()},style:{width:"40px",height:"40px",borderRadius:"5px",margin:0,padding:0,minWidth:0,marginTop:"10px",color:"#66BB6A",backgroundColor:"white"},children:Object(h.jsx)(se.a,{})})},mt=Object(j.a)("div")({height:"42px",width:"42px",backgroundColor:"#66BB6A",borderRadius:"42px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"700",color:"white"}),gt=function(e){var t=e.username,n=e.large;return Object(h.jsx)(mt,{style:n?{height:"80px",width:"80px"}:{},children:t.substring(0,2)})},vt=function(e){var t=e.creatorUsername,n=e.roomId,r=e.amountOfParticipants,a=e.isUserInRoom,c=r>3,i="Cretor: ".concat(t,". Connected: ").concat(r);return Object(h.jsx)(S.a,{title:i,children:Object(h.jsx)("div",{children:Object(h.jsx)(f.a,{style:{width:"48px",height:"48px",borderRadius:"16px",margin:0,padding:0,minWidth:0,marginTop:"10px",color:"white",backgroundColor:"#5865F2"},disabled:c||a,onClick:function(){r<4&&pt(n)},children:Object(h.jsx)(gt,{username:t})})})})},St=n(151),yt=n.n(St),wt=function(){return Object(h.jsx)(f.a,{style:{width:"40px",height:"40px",borderRadius:"5px",margin:0,padding:0,minWidth:0,marginTop:"10px",color:"#66BB6A",backgroundColor:"white"},href:"/task",children:Object(h.jsx)(yt.a,{})})},kt=Object(j.a)("div")({width:"72px",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#A5D6A7"}),Et=Object(_.b)((function(e){var t=e.room;return Object(l.a)({},t)}))((function(e){var t=e.activeRooms,n=e.isUserInRoom;return Object(h.jsxs)(kt,{children:[Object(h.jsx)(ie,{}),Object(h.jsx)(xt,{isUserInRoom:n}),t.map((function(e){return Object(h.jsx)(vt,{roomId:e.roomId,creatorUsername:e.creatorUsername,amountOfParticipants:e.participants.length,isUserInRoom:n},e.roomId)})),Object(h.jsx)(wt,{})]})})),Tt=n(322),Ct=n(310),It=n(326),Rt=n(324),At=n(325),Dt=Object(_.b)(null,(function(e){return Object(l.a)({},me(e))}))((function(e){var t=e.isDialogOpen,n=e.closeDialogHandler,a=e.sendFriendInvitation,c=void 0===a?function(){}:a,i=Object(r.useState)(""),o=Object(u.a)(i,2),s=o[0],l=o[1],d=Object(r.useState)(""),j=Object(u.a)(d,2),b=j[0],O=j[1],p=function(){n(),l("")};return Object(r.useEffect)((function(){O(A(s))}),[s,O]),Object(h.jsx)("div",{children:Object(h.jsxs)(Tt.a,{open:t,onClose:p,children:[Object(h.jsx)(Ct.a,{children:Object(h.jsx)(m.a,{children:"Invite a Friend"})}),Object(h.jsxs)(Rt.a,{children:[Object(h.jsx)(At.a,{children:Object(h.jsx)(m.a,{children:"Enter e-mail address of friend which you would like to invite"})}),Object(h.jsx)(C,{label:"Mail",type:"text",value:s,setValue:l,placeholder:"Enter mail address"})]}),Object(h.jsx)(It.a,{children:Object(h.jsx)(x,{onClick:function(){c({targetMailAddress:s},p)},disabled:!b,label:"Send",additionalStyles:{marginLeft:"15px",marginRight:"15px",marginBottom:"10px"}})})]})})})),_t={marginTop:"10px",marginLeft:"5px",width:"80%",height:"30px",background:"#3ba55d"},Ut=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(x,{additionalStyles:_t,label:"Add Friend",onClick:function(){a(!0)}}),Object(h.jsx)(Dt,{isDialogOpen:n,closeDialogHandler:function(){a(!1)}})]})},Mt={marginTop:"10px",marginLeft:"5px",width:"80%",height:"30px",background:"#212121",fontSize:15},Nt=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(x,{additionalStyles:Mt,label:"BAUET-SCOPE"})})},Lt=n(6),Ft=function(e){var t,n=e.title;return Object(h.jsx)(m.a,{sx:(t={color:"black",fontSize:"14px",marginTop:"15px",borderRadius:"1px"},Object(Lt.a)(t,"marginTop","10px"),Object(Lt.a)(t,"color","#66BB6A"),Object(Lt.a)(t,"backgroundColor","white"),t),children:n})},Bt=n(152),Pt=n.n(Bt),Wt=function(){return Object(h.jsx)(d.a,{sx:{color:"#3ba55d",display:"flex",alignItems:"center",position:"absolute",right:"5px"},children:Object(h.jsx)(Pt.a,{})})},zt=Object(_.b)(null,(function(e){return Object(l.a)({},function(e){return{setChosenChatDetails:function(t,n){return e(Ce(t,n))}}}(e))}))((function(e){var t=e.id,n=e.username,r=e.isOnline,a=e.setChosenChatDetails;return Object(h.jsxs)(f.a,{onClick:function(){a({id:t,name:n},ke)},style:{width:"100%",height:"42px",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"flex-start",textTransform:"none",color:"black",position:"relative"},children:[Object(h.jsx)(gt,{username:n}),Object(h.jsx)(m.a,{style:{marginLeft:"7px",fontWeight:700,color:"#black"},variant:"subtitle1",align:"left",children:n}),r&&Object(h.jsx)(Wt,{})]})})),Ht=Object(j.a)("div")({flexGrow:1,width:"100%"}),Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach((function(e){var n=t.find((function(t){return t.userId===e.id}));e.isOnline=!!n})),e},Vt=Object(_.b)((function(e){var t=e.friends;return Object(l.a)({},t)}))((function(e){var t=e.friends,n=e.onlineUsers;return Object(h.jsx)(Ht,{children:Gt(t,n).map((function(e){return Object(h.jsx)(zt,{username:e.username,id:e.id,isOnline:e.isOnline},e.id)}))})})),Jt=n(153),Yt=n.n(Jt),Zt=n(154),Kt=n.n(Zt),$t=n(327),qt=function(e){var t=e.disabled,n=e.acceptInvitationHandler,r=e.rejectInvitationHandler;return Object(h.jsxs)(d.a,{sx:{display:"flex"},children:[Object(h.jsx)($t.a,{style:{color:"white"},disabled:t,onClick:n,children:Object(h.jsx)(Yt.a,{})}),Object(h.jsx)($t.a,{style:{color:"white"},disabled:t,onClick:r,children:Object(h.jsx)(Kt.a,{})})]})},Xt=Object(_.b)(null,(function(e){return Object(l.a)({},me(e))}))((function(e){var t=e.id,n=e.username,a=e.mail,c=e.acceptFriendInvitation,i=void 0===c?function(){}:c,o=e.rejectFriendInvitation,s=void 0===o?function(){}:o,l=Object(r.useState)(!1),j=Object(u.a)(l,2),b=j[0],O=j[1];return Object(h.jsx)(S.a,{title:a,children:Object(h.jsx)("div",{style:{width:"100%"},children:Object(h.jsxs)(d.a,{sx:{width:"100%",height:"42px",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(h.jsx)(gt,{username:n}),Object(h.jsx)(m.a,{sx:{marginLeft:"7px",fontWeight:700,color:"black",flexGrow:1},variant:"subtitle1",children:n}),Object(h.jsx)(qt,{disabled:b,acceptInvitationHandler:function(){console.log(t),i({id:t}),O(!0)},rejectInvitationHandler:function(){console.log(t),s({id:t}),O(!0)}})]})})})})),Qt=Object(j.a)("div")({width:"100%",height:"22%",display:"flex",flexDirection:"column",alignItems:"center",overflow:"auto"}),en=Object(_.b)((function(e){var t=e.friends;return Object(l.a)({},t)}))((function(e){var t=e.pendingFriendsInvitations;return Object(h.jsx)(Qt,{children:t.map((function(e){return Object(h.jsx)(Xt,{id:e._id,username:e.senderId.username,mail:e.senderId.mail},e._id)}))})})),tn=Object(j.a)("div")({width:"224px",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#C8E6C9"}),nn=function(){return Object(h.jsxs)(tn,{children:[Object(h.jsx)(Nt,{}),Object(h.jsx)(Ut,{}),Object(h.jsx)(Ft,{title:"Private Messages"}),Object(h.jsx)(Vt,{}),Object(h.jsx)(Ft,{title:"Invitations"}),Object(h.jsx)(en,{})]})},rn=Object(j.a)("div")({flexGrow:1,height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}),an=function(){return Object(h.jsx)(rn,{children:Object(h.jsx)(m.a,{variant:"h6",sx:{color:"#A5D6A7"},children:"To start chatting - choose conversation"})})},cn=Object(j.a)("div")({width:"98%",display:"column",marginTop:"10px"}),on=function(e){var t=e.name,n=void 0===t?"":t;return Object(h.jsxs)(cn,{children:[Object(h.jsx)(gt,{large:!0,username:n}),Object(h.jsx)(m.a,{variant:"h4",sx:{fontWeight:"bold",color:"#66BB6A",marginLeft:"5px",marginRight:"5px"},children:n}),Object(h.jsxs)(m.a,{sx:{color:"black",marginLeft:"5px",marginRight:"5px"},children:["This is the beginning of your conversation with ",n]})]})},sn=Object(j.a)("div")({width:"97%",display:"flex",marginTop:"10px"}),ln=Object(j.a)("div")({width:"70px"}),un=Object(j.a)("div")({display:"flex",flexDirection:"column"}),dn=Object(j.a)("div")({color:"black"}),jn=Object(j.a)("div")({color:"#66BB6A",width:"97%"}),bn=Object(j.a)("span")({marginLeft:"70px"}),hn=function(e){var t=e.content,n=e.sameAuthor,r=e.username,a=e.date,c=e.sameDay;return n&&c?Object(h.jsx)(jn,{children:Object(h.jsx)(bn,{children:t})}):Object(h.jsxs)(sn,{children:[Object(h.jsx)(ln,{children:Object(h.jsx)(gt,{username:r})}),Object(h.jsxs)(un,{children:[Object(h.jsxs)(m.a,{style:{fontSize:"16px",color:"#66BB6A",fontWeight:"bold"},children:[r," ",Object(h.jsx)("span",{style:{fontSize:"12px",color:"#72767d"},children:a})]}),Object(h.jsx)(dn,{children:t})]})]})},On=Object(j.a)("div")({width:"95%",backgroundColor:"#b9bbbe",height:"1px",position:"relative",marginTop:"20px",marginBottom:"10px"}),pn=Object(j.a)("span")({backgroundColor:"#36393f",position:"absolute",left:"45%",top:"-10px",color:"#b9bbbe",padding:"0 5px",fontSize:"14px"}),fn=function(e){var t=e.date;return Object(h.jsx)(On,{children:Object(h.jsx)(pn,{children:t})})},xn=Object(j.a)("div")({height:"calc(100% - 60px)",overflow:"auto",display:"flex",flexDirection:"column",alignItems:"center"}),mn=function(e,t){var n={mm:e.getMonth()+1,dd:e.getDate(),yy:e.getFullYear().toString().slice(-2),yyyy:e.getFullYear()};return t.replace(/mm|dd|yy|yyy/gi,(function(e){return n[e]}))},gn=Object(_.b)((function(e){var t=e.chat;return Object(l.a)({},t)}))((function(e){var t=e.chosenChatDetails,n=e.messages;return Object(h.jsxs)(xn,{children:[Object(h.jsx)(on,{name:null===t||void 0===t?void 0:t.name}),n.map((function(e,t){var r=t>0&&n[t].author._id===n[t-1].author._id,a=t>0&&mn(new Date(e.date),"dd/mm/yy")===mn(new Date(n[t-1].date),"dd/mm/yy");return Object(h.jsxs)("div",{style:{width:"97%"},children:[(!a||0===t)&&Object(h.jsx)(fn,{date:mn(new Date(e.date),"dd/mm/yy")}),Object(h.jsx)(hn,{content:e.content,username:e.author.username,sameAuthor:r,date:mn(new Date(e.date),"dd/mm/yy"),sameDay:a})]},e._id)}))]})})),vn=Object(j.a)("div")({height:"60px",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}),Sn=Object(j.a)("input")({backgroundColor:"#C8E6C9",width:"98%",height:"44px",color:"black",border:"none",borderRadius:"8px",fontSize:"14px",padding:"0 10px"}),yn=Object(_.b)((function(e){var t=e.chat;return Object(l.a)({},t)}))((function(e){var t=e.chosenChatDetails,n=Object(r.useState)(""),a=Object(u.a)(n,2),c=a[0],i=a[1],o=function(){var e;c.length>0&&(e={receiverUserId:t.id,content:c},console.log(e),ut.emit("direct-message",e),i(""))};return Object(h.jsx)(vn,{children:Object(h.jsx)(Sn,{placeholder:"Write message to ".concat(t.name),value:c,onChange:function(e){i(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&o()}})})})),wn=Object(j.a)("div")({flexGrow:1}),kn=function(e){var t=e.chosenChatDetails;return Object(r.useEffect)((function(){var e;e={receiverUserId:t.id},ut.emit("direct-chat-history",e)}),[t]),Object(h.jsxs)(wn,{children:[Object(h.jsx)(gn,{}),Object(h.jsx)(yn,{})]})},En=Object(j.a)("div")({flexGrow:1,background:"url(https://raw.githubusercontent.com/fardinahosancse/bg_web/main/1.jpg) no-repeat center center",marginTop:"48px",display:"flex"}),Tn=Object(_.b)((function(e){var t=e.chat;return Object(l.a)({},t)}))((function(e){var t=e.chosenChatDetails;return Object(h.jsx)(En,{children:t?Object(h.jsx)(kn,{chosenChatDetails:t}):Object(h.jsx)(an,{})})})),Cn=n(313),In=n(317),Rn=n(155),An=n.n(Rn),Dn=Object(_.b)((function(e){var t=e.room;return Object(l.a)({},t)}),(function(e){return Object(l.a)({},Pe(e))}))((function(e){var t=e.audioOnly,n=e.setAudioOnly,a=r.useState(null),c=Object(u.a)(a,2),i=c[0],o=c[1],s=Boolean(i);return Object(h.jsxs)("div",{children:[Object(h.jsx)($t.a,{onClick:function(e){o(e.currentTarget)},style:{color:"black"},children:Object(h.jsx)(An.a,{})}),Object(h.jsxs)(Cn.a,{id:"basic-menu",anchorEl:i,open:s,onClose:function(){o(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(h.jsx)(In.a,{onClick:L,children:"Logout"}),Object(h.jsx)(In.a,{onClick:function(){n(!t)},children:t?"Audio Only Enabled":"Audio Only Disabled"})]})]})})),_n=Object(_.b)((function(e){var t;return{name:null===(t=e.chat.chosenChatDetails)||void 0===t?void 0:t.name}}))((function(e){var t=e.name;return Object(h.jsx)(m.a,{sx:{fontSize:"16px",color:"Black",fontWeight:"bold"},children:"".concat(t?"Chosen conversation: ".concat(t):"")})})),Un=Object(j.a)("div")({position:"absolute",right:"0",top:"0",height:"48px",backgroundColor:"#C8E6C9",width:"calc(100% - 326px)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 15px"}),Mn=function(){return Object(h.jsxs)(Un,{children:[Object(h.jsx)(_n,{}),Object(h.jsx)(Dn,{})]})},Nn=n(157),Ln=n.n(Nn),Fn=n(156),Bn=n.n(Fn),Pn=Object(j.a)("div")({position:"absolute",bottom:"10px",right:"10px"}),Wn=function(e){var t=e.isRoomMinimized,n=e.handleRoomResize;return Object(h.jsx)(Pn,{children:Object(h.jsx)($t.a,{style:{color:"white"},onClick:n,children:t?Object(h.jsx)(Bn.a,{}):Object(h.jsx)(Ln.a,{})})})},zn=Object(j.a)("div")({height:"50%",width:"50%",backgroundColor:"black",borderRadius:"2px"}),Hn=Object(j.a)("video")({width:"100%",height:"100%"}),Gn=function(e){var t=e.stream,n=e.isLocalStream,a=Object(r.useRef)();return Object(r.useEffect)((function(){var e=a.current;e.srcObject=t,e.onloadedmetadata=function(){e.play()}}),[t]),Object(h.jsx)(zn,{children:Object(h.jsx)(Hn,{ref:a,autoPlay:!0,muted:!!n})})},Vn=Object(j.a)("div")({height:"85%",width:"100%",display:"flex",flexWrap:"wrap"}),Jn=Object(_.b)((function(e){var t=e.room;return Object(l.a)({},t)}))((function(e){var t=e.localStream,n=e.remoteStreams,r=e.screenSharingStream;return Object(h.jsxs)(Vn,{children:[Object(h.jsx)(Gn,{stream:r||t,isLocalStream:!0}),n.map((function(e){return Object(h.jsx)(Gn,{stream:e},e.id)}))]})})),Yn=n(158),Zn=n.n(Yn),Kn=n(159),$n=n.n(Kn),qn=function(e){var t=e.localStream,n=Object(r.useState)(!0),a=Object(u.a)(n,2),c=a[0],i=a[1];return Object(h.jsx)($t.a,{onClick:function(){t.getVideoTracks()[0].enabled=!c,i(!c)},style:{color:"white"},children:c?Object(h.jsx)(Zn.a,{}):Object(h.jsx)($n.a,{})})},Xn=n(160),Qn=n.n(Xn),er=n(161),tr=n.n(er),nr=function(e){var t=e.localStream,n=Object(r.useState)(!0),a=Object(u.a)(n,2),c=a[0],i=a[1];return Object(h.jsx)($t.a,{onClick:function(){t.getAudioTracks()[0].enabled=!c,i(!c)},style:{color:"white"},children:c?Object(h.jsx)(Qn.a,{}):Object(h.jsx)(tr.a,{})})},rr=n(162),ar=n.n(rr),cr=function(){return Object(h.jsx)($t.a,{onClick:function(){ft()},style:{color:"white"},children:Object(h.jsx)(ar.a,{})})},ir=n(164),or=n.n(ir),sr=n(163),lr=n.n(sr),ur={audio:!1,video:!0},dr=function(e){var t=e.localStream,n=e.screenSharingStream,r=e.setScreenSharingStream,a=e.isScreenSharingActive,c=function(){var e=Object(M.a)(Object(U.a)().mark((function e(){var c;return Object(U.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=14;break}return c=null,e.prev=2,e.next=5,navigator.mediaDevices.getDisplayMedia(ur);case 5:c=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("error occured when trying to get an access to screen share stream");case 11:c&&(r(c),lt(c)),e.next=17;break;case 14:lt(t),n.getTracks().forEach((function(e){return e.stop()})),r(null);case 17:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)($t.a,{onClick:c,style:{color:"white"},children:a?Object(h.jsx)(lr.a,{}):Object(h.jsx)(or.a,{})})},jr=Object(j.a)("div")({height:"15%",width:"100%",backgroundColor:"#A5D6A7",borderTopLeftRadius:"8px",borderTopRightRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"}),br=Object(_.b)((function(e){var t=e.room;return Object(l.a)({},t)}),(function(e){return Object(l.a)({},Pe(e))}))((function(e){var t=e.localStream,n=e.isUserJoinedWithOnlyAudio;return Object(h.jsxs)(jr,{children:[!n&&Object(h.jsx)(dr,Object(l.a)({},e)),Object(h.jsx)(nr,{localStream:t}),Object(h.jsx)(cr,{}),!n&&Object(h.jsx)(qn,{localStream:t})]})})),hr=Object(j.a)("div")({position:"absolute",borderRadius:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"url(https://raw.githubusercontent.com/fardinahosancse/bg_web/main/1.jpg) no-repeat center center"}),Or={width:"100%",height:"100vh"},pr={bottom:"0px",right:"0px",width:"30%",height:"40vh"},fr=function(){var e=Object(r.useState)(!0),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(h.jsxs)(hr,{style:n?pr:Or,children:[Object(h.jsx)(Jn,{}),Object(h.jsx)(br,{}),Object(h.jsx)(Wn,{isRoomMinimized:n,handleRoomResize:function(){a(!n)}})]})},xr=Object(j.a)("div")({width:"100%",height:"100vh",display:"flex"}),mr=Object(_.b)((function(e){var t=e.room;return Object(l.a)({},t)}),(function(e){return Object(l.a)({},$(e))}))((function(e){var t=e.setUserDetails,n=e.isUserInRoom;return Object(r.useEffect)((function(){var e=localStorage.getItem("user");e?(t(JSON.parse(e)),dt(JSON.parse(e))):L()}),[]),Object(h.jsxs)(xr,{children:[Object(h.jsx)(Et,{}),Object(h.jsx)(nn,{}),Object(h.jsx)(Tn,{}),Object(h.jsx)(Mn,{}),n&&Object(h.jsx)(fr,{})]})})),gr=n(314),vr=n(315),Sr=Object(_.b)((function(e){var t=e.alert;return Object(l.a)({},t)}),(function(e){return Object(l.a)({},function(e){return{openAlertMessage:function(t){return e(J(t))},closeAlertMessage:function(){return e(Y())}}}(e))}))((function(e){var t=e.showAlertMessage,n=e.closeAlertMessage,r=e.alertMessageContent;return Object(h.jsx)(vr.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:t,onClose:n,autoHideDuration:6e3,children:Object(h.jsx)(gr.a,{severity:"info",children:r})})}));n(252),n(253),n(254);function yr(e){var t=e.addTask,n=e.deleteTask,a=e.moveTask,c=e.task,i=Object(r.useState)(c.urgency),o=Object(u.a)(i,2),s=o[0],l=o[1],d=Object(r.useState)(c.isCollapsed),j=Object(u.a)(d,2),b=j[0],O=j[1],p=Object(r.useState)(""),f=Object(u.a)(p,2),x=f[0],m=f[1];function g(e){l(e.target.attributes.urgency.value)}return Object(h.jsxs)("div",{className:"task ".concat(b?"collapsedTask":""),children:[Object(h.jsx)("button",{onClick:function(){var e="";"In Progress"===c.status?e="Backlog":"Done"===c.status&&(e="In Progress"),""!==e&&a(c.id,e)},className:"button moveTask",children:"\xab"}),Object(h.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),"save"===x)if(b)O(!1);else{var r={id:c.id,title:e.target.elements.title.value,description:e.target.elements.description.value,urgency:s,status:c.status,isCollapsed:!0};t(r),O(!0)}"delete"===x&&n(c.id)},className:b?"collapsed":"",children:[Object(h.jsx)("input",{type:"text",className:"title input",name:"title",placeholder:"Enter Title",disabled:b,defaultValue:c.title}),Object(h.jsx)("textarea",{rows:"2",className:"description input",name:"description",placeholder:"Enter Description",defaultValue:c.description}),Object(h.jsxs)("div",{className:"urgencyLabels",children:[Object(h.jsxs)("label",{className:"low ".concat("low"===s?"selected":""),children:[Object(h.jsx)("input",{urgency:"low",onChange:g,type:"radio",name:"urgency"}),"low"]}),Object(h.jsxs)("label",{className:"medium ".concat("medium"===s?"selected":""),children:[Object(h.jsx)("input",{urgency:"medium",onChange:g,type:"radio",name:"urgency"}),"medium"]}),Object(h.jsxs)("label",{className:"high ".concat("high"===s?"selected":""),children:[Object(h.jsx)("input",{urgency:"high",onChange:g,type:"radio",name:"urgency"}),"high"]})]}),Object(h.jsx)("button",{onClick:function(){m("save")},className:"button",children:b?"Edit":"Save"}),b&&Object(h.jsx)("button",{onClick:function(){m("delete")},className:"button delete",children:"X"})]}),Object(h.jsx)("button",{onClick:function(){var e="";"Backlog"===c.status?e="In Progress":"In Progress"===c.status&&(e="Done"),""!==e&&a(c.id,e)},className:"button moveTask",children:"\xbb"})]})}function wr(e){var t,n,r=e.status,a=e.tasks,c=e.addTask,i=e.deleteTask,o=e.addEmptyTask,s=e.moveTask;return a&&(n=a.filter((function(e){return e.status===r}))),n&&(t=n.map((function(e){return Object(h.jsx)(yr,{addTask:function(e){return c(e)},deleteTask:function(e){return i(e)},moveTask:function(e,t){return s(e,t)},task:e},e.id)}))),Object(h.jsxs)("div",{className:"statusLine",children:[Object(h.jsx)("h3",{children:r}),t,Object(h.jsx)("button",{onClick:function(){o(r)},className:"button addTask",children:"+"})]})}var kr=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1];function c(e){var t=n[n.length-1],r=1;void 0!==t&&(r=t.id+1),a((function(t){return[].concat(Object(et.a)(t),[{id:r,title:"",description:"",urgency:"",status:e}])}))}function i(e){var t=n.filter((function(t){return t.id!==e.id})),r=[].concat(Object(et.a)(t),[e]);a(r),l(r)}function o(e){var t=n.filter((function(t){return t.id!==e}));a(t),l(t)}function s(e,t){var r=n.filter((function(t){return t.id===e}))[0],c=n.filter((function(t){return t.id!==e}));r.status=t;var i=[].concat(Object(et.a)(c),[r]);a(i),l(i)}function l(e){localStorage.setItem("tasks",JSON.stringify(e))}return Object(r.useEffect)((function(){!function(){var e=localStorage.getItem("tasks"),t=JSON.parse(e);t&&a(t)}()}),[]),Object(h.jsxs)("div",{className:"SyncTask",children:[Object(h.jsx)("h1",{children:"Kanban Board 0.1b (test)"}),Object(h.jsx)("main",{children:Object(h.jsxs)("section",{children:[Object(h.jsx)(wr,{tasks:n,addEmptyTask:c,addTask:i,deleteTask:o,moveTask:s,status:"Backlog"}),Object(h.jsx)(wr,{tasks:n,addEmptyTask:c,addTask:i,deleteTask:o,moveTask:s,status:"In Progress"}),Object(h.jsx)(wr,{tasks:n,addEmptyTask:c,addTask:i,deleteTask:o,moveTask:s,status:"Done"})]})})]})};n(255);var Er=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(o.a,{children:Object(h.jsxs)(s.d,{children:[Object(h.jsx)(s.b,{exact:!0,path:"/login",children:Object(h.jsx)(ee,{})}),Object(h.jsx)(s.b,{exact:!0,path:"/task",children:Object(h.jsx)(kr,{})}),Object(h.jsx)(s.b,{exact:!0,path:"/register",children:Object(h.jsx)(re,{})}),Object(h.jsx)(s.b,{exact:!0,path:"/dashboard",children:Object(h.jsx)(mr,{})}),Object(h.jsx)(s.b,{path:"/",children:Object(h.jsx)(s.a,{to:"/dashboard"})})]})}),Object(h.jsx)(Sr,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(_.a,{store:qe,children:Object(h.jsx)(Er,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[256,1,2]]]);
//# sourceMappingURL=main.1d932347.chunk.js.map